<?
header('Content-type: text/html; charset=utf-8');
header("Access-Control-Allow-Origin: null");

include_once("include.php"); 
include_once "start.php";
include_once ("requiredDBTasks.php");
include_once "sigweathercalc.php";
include_once("forecastlib.php");
$output_json_file_path = "/home/boazn/public/02ws.com/public/02wsjson.txt";
$JSON = "{\"jws\":";


$JSON .= "{\"current\":";
$JSON .= "{";
$JSON .= "\"date\":"."\"".$current->get_date()."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$current->get_time()."\"";
$JSON .= ",";
$JSON .= "\"temp\":"."\"".$current->get_temp()."\"";
$JSON .= ",";
$JSON .= "\"hum\":"."\"".$current->get_hum()."\"";
$JSON .= ",";
$JSON .= "\"pressure\":"."\"".$current->get_pressure()."\"";
$JSON .= ",";
$JSON .= "\"winddir\":"."\"".$current->get_winddir()."\"";
$JSON .= ",";
$JSON .= "\"windspd\":"."\"".$current->get_windspd()."\"";
$JSON .= ",";
$JSON .= "\"rainrate\":"."\"".$current->get_rainrate()."\"";
$JSON .= ",";
$JSON .= "\"cloudbase\":"."\"".$current->get_cloudbase()."\"";
$JSON .= ",";
$JSON .= "\"windchill\":"."\"".$current->get_windchill()."\"";
$JSON .= ",";
$JSON .= "\"heatidx\":"."\"".$current->get_heatidx()."\"";
$JSON .= ",";
$JSON .= "\"thw\":"."\"".$current->get_thw()."\"";
$JSON .= ",";
$JSON .= "\"intemp\":"."\"".$current->get_intemp()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$current->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"solarradiation\":"."\"".$current->get_solarradiation()."\"";
$JSON .= ",";
$JSON .= "\"pm10\":"."\"".$current->get_pm10()."\"";
$JSON .= ",";
$JSON .= "\"cloudiness\":"."\"".$current->get_cloudiness()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$current->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"islight\":"."\"".$current->is_light()."\"";
$JSON .= "}";

$JSON .= ",\"min15\":";
$JSON .= "{";
$JSON .= "\"date\":"."\"".$min15->get_date()."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$min15->get_time()."\"";
$JSON .= ",";
$JSON .= "\"temp\":"."\"".$min15->get_temp()."\"";
$JSON .= ",";
$JSON .= "\"hum\":"."\"".$min15->get_hum()."\"";
$JSON .= ",";
$JSON .= "\"pressure\":"."\"".$min15->get_pressure()."\"";
$JSON .= ",";
$JSON .= "\"winddir\":"."\"".$min15->get_winddir()."\"";
$JSON .= ",";
$JSON .= "\"windspd\":"."\"".$min15->get_windspd()."\"";
$JSON .= ",";
$JSON .= "\"rainrate\":"."\"".$min15->get_rainrate()."\"";
$JSON .= ",";
$JSON .= "\"cloudbase\":"."\"".$min15->get_cloudbase()."\"";
$JSON .= ",";
$JSON .= "\"windchill\":"."\"".$min15->get_windchill()."\"";
$JSON .= ",";
$JSON .= "\"heatidx\":"."\"".$min15->get_heatidx()."\"";
$JSON .= ",";
$JSON .= "\"thw\":"."\"".$min15->get_thw()."\"";
$JSON .= ",";
$JSON .= "\"intemp\":"."\"".$min15->get_intemp()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$min15->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"solarradiation\":"."\"".$min15->get_solarradiation()."\"";
$JSON .= ",";
$JSON .= "\"pm10\":"."\"".$min15->get_pm10()."\"";
$JSON .= ",";
$JSON .= "\"cloudiness\":"."\"".$min15->get_cloudiness()."\"";
$JSON .= "}";

$JSON .= ",\"min30\":";
$JSON .= "{";
$JSON .= "\"date\":"."\"".$min30->get_date()."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$min30->get_time()."\"";
$JSON .= ",";
$JSON .= "\"temp\":"."\"".$min30->get_temp()."\"";
$JSON .= ",";
$JSON .= "\"hum\":"."\"".$min30->get_hum()."\"";
$JSON .= ",";
$JSON .= "\"pressure\":"."\"".$min30->get_pressure()."\"";
$JSON .= ",";
$JSON .= "\"winddir\":"."\"".$min30->get_winddir()."\"";
$JSON .= ",";
$JSON .= "\"windspd\":"."\"".$min30->get_windspd()."\"";
$JSON .= ",";
$JSON .= "\"rainrate\":"."\"".$min30->get_rainrate()."\"";
$JSON .= ",";
$JSON .= "\"cloudbase\":"."\"".$min30->get_cloudbase()."\"";
$JSON .= ",";
$JSON .= "\"windchill\":"."\"".$min30->get_windchill()."\"";
$JSON .= ",";
$JSON .= "\"heatidx\":"."\"".$min30->get_heatidx()."\"";
$JSON .= ",";
$JSON .= "\"thw\":"."\"".$min30->get_thw()."\"";
$JSON .= ",";
$JSON .= "\"intemp\":"."\"".$min30->get_intemp()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$min30->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"solarradiation\":"."\"".$min30->get_solarradiation()."\"";
$JSON .= ",";
$JSON .= "\"pm10\":"."\"".$min30->get_pm10()."\"";
$JSON .= ",";
$JSON .= "\"cloudiness\":"."\"".$min30->get_cloudiness()."\"";
$JSON .= "}";

$JSON .= ",\"oneHour\":";
$JSON .= "{";
$JSON .= "\"date\":"."\"".$oneHour->get_date()."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$oneHour->get_time()."\"";
$JSON .= ",";
$JSON .= "\"temp\":"."\"".$oneHour->get_temp()."\"";
$JSON .= ",";
$JSON .= "\"hum\":"."\"".$oneHour->get_hum()."\"";
$JSON .= ",";
$JSON .= "\"pressure\":"."\"".$oneHour->get_pressure()."\"";
$JSON .= ",";
$JSON .= "\"winddir\":"."\"".$oneHour->get_winddir()."\"";
$JSON .= ",";
$JSON .= "\"windspd\":"."\"".$oneHour->get_windspd()."\"";
$JSON .= ",";
$JSON .= "\"rainrate\":"."\"".$oneHour->get_rainrate()."\"";
$JSON .= ",";
$JSON .= "\"cloudbase\":"."\"".$oneHour->get_cloudbase()."\"";
$JSON .= ",";
$JSON .= "\"windchill\":"."\"".$oneHour->get_windchill()."\"";
$JSON .= ",";
$JSON .= "\"heatidx\":"."\"".$oneHour->get_heatidx()."\"";
$JSON .= ",";
$JSON .= "\"thw\":"."\"".$oneHour->get_thw()."\"";
$JSON .= ",";
$JSON .= "\"intemp\":"."\"".$oneHour->get_intemp()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$oneHour->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"solarradiation\":"."\"".$oneHour->get_solarradiation()."\"";
$JSON .= ",";
$JSON .= "\"pm10\":"."\"".$oneHour->get_pm10()."\"";
$JSON .= ",";
$JSON .= "\"cloudiness\":"."\"".$oneHour->get_cloudiness()."\"";
$JSON .= "}";

$JSON .= ",\"threeHours\":";
$JSON .= "{";
$JSON .= "\"date\":"."\"".$threeHours->get_date()."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$threeHours->get_time()."\"";
$JSON .= ",";
$JSON .= "\"temp\":"."\"".$threeHours->get_temp()."\"";
$JSON .= ",";
$JSON .= "\"hum\":"."\"".$threeHours->get_hum()."\"";
$JSON .= ",";
$JSON .= "\"pressure\":"."\"".$threeHours->get_pressure()."\"";
$JSON .= ",";
$JSON .= "\"winddir\":"."\"".$threeHours->get_winddir()."\"";
$JSON .= ",";
$JSON .= "\"windspd\":"."\"".$threeHours->get_windspd()."\"";
$JSON .= ",";
$JSON .= "\"rainrate\":"."\"".$threeHours->get_rainrate()."\"";
$JSON .= ",";
$JSON .= "\"cloudbase\":"."\"".$threeHours->get_cloudbase()."\"";
$JSON .= ",";
$JSON .= "\"windchill\":"."\"".$threeHours->get_windchill()."\"";
$JSON .= ",";
$JSON .= "\"heatidx\":"."\"".$threeHours->get_heatidx()."\"";
$JSON .= ",";
$JSON .= "\"thw\":"."\"".$threeHours->get_thw()."\"";
$JSON .= ",";
$JSON .= "\"intemp\":"."\"".$threeHours->get_intemp()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$threeHours->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"solarradiation\":"."\"".$threeHours->get_solarradiation()."\"";
$JSON .= ",";
$JSON .= "\"pm10\":"."\"".$threeHours->get_pm10()."\"";
$JSON .= ",";
$JSON .= "\"cloudiness\":"."\"".$threeHours->get_cloudiness()."\"";
$JSON .= "}";

$JSON .= ",\"yestsametime\":";
$JSON .= "{";
$JSON .= "\"date\":"."\"".$yestsametime->get_date()."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$yestsametime->get_time()."\"";
$JSON .= ",";
$JSON .= "\"temp\":"."\"".$yestsametime->get_temp()."\"";
$JSON .= ",";
$JSON .= "\"hum\":"."\"".$yestsametime->get_hum()."\"";
$JSON .= ",";
$JSON .= "\"pressure\":"."\"".$yestsametime->get_pressure()."\"";
$JSON .= ",";
$JSON .= "\"winddir\":"."\"".$yestsametime->get_winddir()."\"";
$JSON .= ",";
$JSON .= "\"windspd\":"."\"".$yestsametime->get_windspd()."\"";
$JSON .= ",";
$JSON .= "\"rainrate\":"."\"".$yestsametime->get_rainrate()."\"";
$JSON .= ",";
$JSON .= "\"cloudbase\":"."\"".$yestsametime->get_cloudbase()."\"";
$JSON .= ",";
$JSON .= "\"windchill\":"."\"".$yestsametime->get_windchill()."\"";
$JSON .= ",";
$JSON .= "\"heatidx\":"."\"".$yestsametime->get_heatidx()."\"";
$JSON .= ",";
$JSON .= "\"thw\":"."\"".$yestsametime->get_thw()."\"";
$JSON .= ",";
$JSON .= "\"intemp\":"."\"".$yestsametime->get_intemp()."\"";
$JSON .= ",";
$JSON .= "\"tempunit\":"."\"".$yestsametime->get_tempunit()."\"";
$JSON .= ",";
$JSON .= "\"solarradiation\":"."\"".$yestsametime->get_solarradiation()."\"";
$JSON .= ",";
$JSON .= "\"pm10\":"."\"".$yestsametime->get_pm10()."\"";
$JSON .= ",";
$JSON .= "\"cloudiness\":"."\"".$yestsametime->get_cloudiness()."\"";
$JSON .= "}";

$JSON .= ",\"thisMonth\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$thisMonth->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$thisMonth->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$thisMonth->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$thisMonth->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$thisMonth->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$thisMonth->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$thisMonth->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$thisMonth->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$thisMonth->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$thisMonth->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$thisMonth->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$thisMonth->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$thisMonth->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$thisMonth->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$thisMonth->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$thisMonth->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"prevMonth\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$prevMonth->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$prevMonth->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$prevMonth->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$prevMonth->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$prevMonth->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$prevMonth->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$prevMonth->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$prevMonth->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$prevMonth->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$prevMonth->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$prevMonth->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$prevMonth->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$prevMonth->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$prevMonth->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$prevMonth->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$prevMonth->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"thisYear\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$thisYear->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$thisYear->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$thisYear->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$thisYear->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$thisYear->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$thisYear->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$thisYear->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$thisYear->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$thisYear->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$thisYear->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$thisYear->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$thisYear->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$thisYear->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$thisYear->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$thisYear->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$thisYear->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"today\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$today->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$today->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$today->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$today->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$today->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$today->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$today->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$today->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$today->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$today->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$today->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$today->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$today->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$today->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$today->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$today->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"yest\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$yest->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$yest->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$yest->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$yest->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$yest->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$yest->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$yest->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$yest->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$yest->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$yest->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$yest->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$yest->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$yest->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$yest->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$yest->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$yest->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"wholeSeason\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$wholeSeason->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$wholeSeason->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$wholeSeason->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$wholeSeason->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$wholeSeason->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$wholeSeason->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$wholeSeason->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$wholeSeason->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$wholeSeason->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$wholeSeason->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$wholeSeason->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$wholeSeason->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$wholeSeason->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$wholeSeason->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$wholeSeason->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$wholeSeason->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"seasonTillNow\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$seasonTillNow->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$seasonTillNow->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$seasonTillNow->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$seasonTillNow->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$seasonTillNow->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$seasonTillNow->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$seasonTillNow->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$seasonTillNow->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$seasonTillNow->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$seasonTillNow->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$seasonTillNow->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$seasonTillNow->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$seasonTillNow->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$seasonTillNow->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$seasonTillNow->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$seasonTillNow->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"averageTillNow\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$averageTillNow->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$averageTillNow->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$averageTillNow->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$averageTillNow->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$averageTillNow->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$averageTillNow->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$averageTillNow->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$averageTillNow->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$averageTillNow->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$averageTillNow->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$averageTillNow->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$averageTillNow->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$averageTillNow->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$averageTillNow->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$averageTillNow->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$averageTillNow->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"storm\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$storm->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$storm->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"highhum\":"."\"".$storm->get_highhum()."\"";
$JSON .= ",";
$JSON .= "\"lowhum\":"."\"".$storm->get_lowhum()."\"";
$JSON .= ",";
$JSON .= "\"highdew\":"."\"".$storm->get_highdew()."\"";
$JSON .= ",";
$JSON .= "\"lowdew\":"."\"".$storm->get_lowdew()."\"";
$JSON .= ",";
$JSON .= "\"highbar\":"."\"".$storm->get_highbar()."\"";
$JSON .= ",";
$JSON .= "\"lowbar\":"."\"".$storm->get_lowbar()."\"";
$JSON .= ",";
$JSON .= "\"highwind\":"."\"".$storm->get_highwind()."\"";
$JSON .= ",";
$JSON .= "\"lowwindchill\":"."\"".$storm->get_lowwindchill()."\"";
$JSON .= ",";
$JSON .= "\"highheatindex\":"."\"".$storm->get_highheatindex()."\"";
$JSON .= ",";
$JSON .= "\"rain\":"."\"".$storm->get_rain()."\"";
$JSON .= ",";
$JSON .= "\"rainydays\":"."\"".$storm->get_rainydays()."\"";
$JSON .= ",";
$JSON .= "\"raindiffav\":"."\"".$storm->get_raindiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainydaysdiffav\":"."\"".$storm->get_rainydaysdiffav()."\"";
$JSON .= ",";
$JSON .= "\"rainperc\":"."\"".$storm->get_rainperc()."\"";
$JSON .= "}";

$JSON .= ",\"todayForecast\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$todayForecast->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$todayForecast->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"temp_morning\":"."\"".$todayForecast->get_temp_morning()."\"";
$JSON .= ",";
$JSON .= "\"temp_day\":"."\"".$todayForecast->get_temp_day()."\"";
$JSON .= ",";
$JSON .= "\"temp_night\":"."\"".$todayForecast->get_temp_night()."\"";
$JSON .= "}";

$JSON .= ",\"tomorrowForecast\":";
$JSON .= "{";
$JSON .= "\"hightemp\":"."\"".$tomorrowForecast->get_hightemp()."\"";
$JSON .= ",";
$JSON .= "\"lowtemp\":"."\"".$tomorrowForecast->get_lowtemp()."\"";
$JSON .= ",";
$JSON .= "\"temp_morning\":"."\"".$tomorrowForecast->get_temp_morning()."\"";
$JSON .= ",";
$JSON .= "\"temp_day\":"."\"".$tomorrowForecast->get_temp_day()."\"";
$JSON .= ",";
$JSON .= "\"temp_night\":"."\"".$tomorrowForecast->get_temp_night()."\"";
$JSON .= "}";

$JSON .= ",\"forecastHours\":[";
foreach ($forecastHour as $hour_f){
$JSON .= "{";
$JSON .= "\"currentDateTime\":"."\"".$hour_f['currentDateTime']."\"";
$JSON .= ",";
$JSON .= "\"date\":"."\"".date("j/m", $hour_f['currentDateTime'])."\"";
$JSON .= ",";
$JSON .= "\"plusminus\":"."\"".$hour_f['plusminus']."\"";
$JSON .= ",";
$JSON .= "\"time\":"."\"".$hour_f['time']."\"";
$JSON .= ",";
$JSON .= "\"wind\":"."\"".$hour_f['wind']."\"";
$JSON .= ",";
if ($hour_f['wind'] > 30){
        
        $wind_class="high_wind";
}
else if ($hour_f['wind'] > 20){
        
        $wind_class="high_wind";
}
else if ($hour_f['wind'] > 10){
        
        $wind_class="moderate_wind";
}
else{
        
        $wind_class="light_wind";
}
$JSON .= "\"wind_class\":"."\"".$wind_class."\"";
$JSON .= ",";
$JSON .= "\"icon\":"."\"".$hour_f['icon']."\"";
$JSON .= ",";
$title = str_replace('\"', "``", $hour_f['title']);
$JSON .= "\"title\":"."\"".$title."\"";
$JSON .= "},";
}
$JSON = trim($JSON, ",");
$JSON .= "]";
$JSON .= ",\"forecastDays\":[";
foreach ($forecastDaysDB as $day_f){
    $JSON .= "{";
    $JSON .= "\"day_name\":"."\"".$day_f['day_name']."\"";
    $JSON .= ",";
    $JSON .= "\"date\":"."\"".$day_f['date']."\"";
    $JSON .= ",";
    $JSON .= "\"TempLow\":"."\"".$day_f['TempLow']."\"";
    $JSON .= ",";
    $JSON .= "\"TempHigh\":"."\"".$day_f['TempHigh']."\"";
    $JSON .= ",";
    $JSON .= "\"TempHighCloth\":"."\""."images/clothes/".$day_f['TempHighCloth']."\"";
    $JSON .= ",";
    $JSON .= "\"TempHighClothTitle\":"."\"".getClothTitle($day_f['TempHighCloth'])."\"";
    $JSON .= ",";
    $JSON .= "\"icon\":"."\""."images/icons/day/".$day_f['icon']."\"";
    $JSON .= ",";
    $JSON .= "\"lang1\":"."\"".urldecode($day_f['lang1'])."\"";
     $JSON .= ",";
    $JSON .= "\"lang0\":"."\"".urldecode($day_f['lang0'])."\"";
    $JSON .= "},";
}
$JSON = trim($JSON, ",");
$JSON .= "]";
$JSON .= ",\"Messages\":";
$JSON .= "{";
$JSON .= "\"detailedforecast0\":"."\"".str_replace('"', "``", $detailedforecast)."\"";
$JSON .= ",";
$JSON .= "\"detailedforecast1\":"."\"".str_replace('"', "``", $detailedforecast)."\"";
$JSON .= "}";

$JSON .= ",\"windstatus\":";
$JSON .= "{";
$windstatus = str_replace('"', "'", getWindStatus(0));
$JSON .= "\"lang0\":"."\"".$windstatus."\"";
$JSON .= ",";
$windstatus = str_replace('"', "'", getWindStatus(1));
$JSON .= "\"lang1\":"."\"".$windstatus."\"";
$JSON .= "}";

$JSON .= ",\"states\":";
$JSON .= "{";
$JSON .= "\"israining\":"."\"".isRaining()."\"";
$JSON .= ",";
$JSON .= "\"issnowing\":"."\"".isSnowing()."\"";
$JSON .= ",";
$JSON .= "\"lastUpdateMin\":"."\"".getLastUpdateMin()."\"";
$JSON .= ",";
if ((count($sig) > 1)){
    $sigtitle0 = $sig[0]['sig'][0];
    $sigtitle1 = $sig[0]['sig'][1];
    $sigext0 = $sig[0]['extrainfo'][0];
    $sigext1 = $sig[0]['extrainfo'][1];
}
$JSON .= "\"sigtitle0\":"."\"".$sigtitle0."\"";
$JSON .= ",";
$JSON .= "\"sigtitle1\":"."\"".$sigtitle1."\"";
$JSON .= ",";
$JSON .= "\"sigext0\":"."\"".str_replace('"', "'", $sigext0)."\"";
$JSON .= ",";
$JSON .= "\"sigext1\":"."\"".str_replace('"', "'", $sigext1)."\"";
$JSON .= "}";

$JSON .= ",\"TAF\":";
$JSON .= "{";
$JSON .= "\"timetaf\":"."\"".$timetaf."\"";
$JSON .= ",";
$JSON .= "\"dayF\":"."\"".$dayF."\"";
$JSON .= ",";
$JSON .= "\"monthF\":"."\"".$monthF."\"";
$JSON .= ",";
$JSON .= "\"yearF\":"."\"".$yearF."\"";
$JSON .= "}";

$JSON .= ",\"Adsense\":";
$JSON .= "{";
$JSON .= "\"adsense_color\":"."\"".$adsense_color."\"";
$JSON .= ",";
$JSON .= "\"adsense_background\":"."\"".$adsense_background."\"";
$JSON .= "}";


$JSON .= "}";
$JSON .= "}";
//$file = fopen($output_json_file_path,"w");
//@fwrite ($file, $JSON);
//@fclose ($file);
echo $JSON;
 ?>